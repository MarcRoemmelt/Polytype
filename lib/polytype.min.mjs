// Polytype 0.5.0 â€“ https://github.com/fasttime/Polytype
function t(e,n){const o=z(n);for(const n of o)if(n===e||t(e,n))return!0;return!1}const e=[],n=Function,o=n.prototype,r=Map,s=Object,{create:c,defineProperties:i,defineProperty:u,getOwnPropertyDescriptors:a,getPrototypeOf:l,prototype:f,setPrototypeOf:p}=s,y=Proxy,d=Reflect,{construct:h,get:w,ownKeys:g,set:m}=d,P=Set,O=String,b=Symbol.hasInstance,v=TypeError,_=t=>o.call.bind(t),$=_(o.bind),x=_(o[b]),j=_(f.hasOwnProperty),I=_(f.valueOf),L=(t,e)=>{if(t.has(e)){const t=`Duplicate superclass ${Z(e)}`;throw v(t)}},M=t=>{if(!H(t))throw v("Argument is not a function")},S=(...t)=>{if(!t.length)throw v("No superclasses specified");const e=new P,n=new P;for(const o of t){if(L(e,o),!J(o)){const t=`${Z(o)} is not a constructor`;throw v(t)}const{prototype:t}=o;if(U(t)){const t=`Property 'prototype' of ${Z(o)} is not an object or null`;throw v(t)}e.add(o),null!==t&&n.add(t)}const s=function(t,e){const n=function(t){return K(class{static _(e){if(!t.has(e))throw M(e),v("Argument is not a direct superclass");return F(e,this)}}._,"name","class",!1)}(t),o=D(t),s=function(t){return K(class{static _(e){M(e);const{prototype:n}=e;if(!t.has(n)){const t=X(n)?"Property 'prototype' of argument does not match any direct superclass":"Property 'prototype' of argument is not an object";throw v(t)}return F(n,this)}}._,"name","class",!1)}(e),u=function(t){const e=function(...e){const n=function(t,e){const n=new r;let o,s;const c=t=>{if(o===!t)throw v("Mixed argument styles");o=t};for(const o of e){if(V(o))throw v("Invalid arguments");let e,r;if(void 0!==o&&X(e=o.super)){if(c(!0),L(n,e),!t.has(e)){const t=`${Z(e)} is not a direct superclass`;throw v(t)}if(r=o.arguments,V(r)){const t=`Invalid arguments for superclass ${Z(e)}`;throw v(t)}}else c(!1),s||(s=t.values()),e=s.next().value,r=o;const i=void 0!==r?C(r):void 0;n.set(e,i)}return n}(t,e),o=new.target;for(const e of t){const t=n.get(e),r=W(e,t,o),s=g(r);for(const t of s)j(this,t)&&delete r[t];i(this,r)}};return p(e,null),e}(t),a=E(u,t,A),l=c(null,{constructor:T(a,!0,!1,!0),class:T(s)}),f=E(l,e,k),y={class:T(n),name:{get:o},prototype:T(f)};return i(u,y),a}(e,n);return function t(e){let n=!1;for(const r of e)r!==o&&X(r)&&(n=!0,t(z(r))||R(r));return n}(t),s},k={setPrototypeOf:()=>!1},A={__proto__:k,apply:()=>{throw v("Constructor cannot be invoked without 'new'")}},D=t=>()=>`(${[...t].map(({name:t})=>O(t))})`,C=o.apply.bind((...t)=>t,null),E=(t,e,n)=>{const o=((t,e)=>({__proto__:e,get(e,n,o){const r=t.find(et(n));if(void 0!==r)return w(r,n,o)},has:(e,n)=>t.some(et(n)),set(e,n,o,r){const s=t.find(et(n));return void 0!==s?m(s,n,o,r):(K(r,n,o,!0,!0),!0)}}))([t,...e],n),r=new y(t,o);return nt.set(r,e),r},F=(t,e)=>{const n=t=>{const n=t();return p(r,e),n},o=new y(e,{get:(o,r)=>n(()=>w(t,r,e)),set:(o,r,s)=>n(()=>m(t,r,s,e))}),r=c(o);return r},K=(t,e,n,o=!0,r=!1)=>u(t,e,T(n,o,r,!0)),N=()=>{const t="undefined"==typeof self?global:self;return!t.hasOwnProperty("classes")&&(K(t,"classes",S),K(s,"getPrototypeListOf",q),!0)},R=t=>K(t,b,B),T=(t,e,n,o)=>({value:t,writable:e,enumerable:n,configurable:o}),W=(t,n=e,o)=>a(h(t,n,o)),{getPrototypeListOf:q}={getPrototypeListOf:t=>{let e;{const n=l(t);if(null!==n){const t=nt.get(n);e=t?[...t]:[n]}else e=[]}return e}},z=t=>{let n=nt.get(t);if(!n){const o=l(t);n=null!==o?[o]:e}return n},{[b]:B}=class{static[b](e){G=!0;try{if(H(this)){const n=x(this,e);if(!G)return n;if(n||X(e)&&t(this.prototype,e))return!0}return!1}finally{G=!1}}};let G=!1;const H=t=>"function"==typeof t,J=t=>{if(H(t)){const e=$(t);K(e,"prototype",null);const n=new y(e,{construct(){return this}});try{return new class extends n{},!0}catch(t){}}return!1},Q=t=>!tt.includes(typeof t),U=t=>void 0===t||Q(t),V=t=>null===t||Q(t),X=t=>null!==t&&!U(t),{isPrototypeOf:Y}=class{static isPrototypeOf(e){return!(!X(e)||!t(I(this),e))}},Z=t=>{let e;return H(t)&&(({name:e}=t),null!=e&&(e=O(e)))?e:e=O(t)},tt=["function","object","undefined"],et=t=>e=>t in e,nt=new WeakMap;K(S,"name","classes",!1),R(n),R(s),K(f,"isPrototypeOf",Y);export{S as classes,N as defineGlobally,q as getPrototypeListOf};
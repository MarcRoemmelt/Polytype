// Proxymi â€“ https://github.com/fasttime/Proxymi
"use strict";(t=>{function e(t,o){const n=B(o);for(const o of n)if(o===t||e(t,o))return!0;return!1}if(t.hasOwnProperty("classes"))return;const o=[],n=Function.prototype,s=Map,r=Object,{create:c,defineProperties:i,defineProperty:u,getOwnPropertyDescriptors:a,getPrototypeOf:l,keys:f,prototype:p,setPrototypeOf:y}=r,d=Proxy,h=Reflect,{construct:g,get:w,set:P}=h,m=Set,b=String,v=Symbol.hasInstance,O=TypeError,_=t=>n.call.bind(t),$=_(n.bind),j=_(n[v]),x=_(p.hasOwnProperty),k=_(p.valueOf),I=(t,e)=>{if(t.has(e)){const t=`Duplicate superclass ${Z(e)}`;throw O(t)}},L=t=>{if(!J(t))throw O("Argument is not a function")},{classes:M}={classes:(...t)=>S(t)},S=t=>{if(!t.length)throw O("No superclasses specified");const e=new m,o=new m;for(const n of t){if(I(e,n),!K(n)){const t=`${Z(n)} is not a constructor`;throw O(t)}const{prototype:t}=n;if(U(t)){const t=`Property 'prototype' of ${Z(n)} is not an object or null`;throw O(t)}e.add(n),null!==t&&o.add(t)}const r=function(t,e){const o=function(t){const{class:e}=class{static class(e){if(!t.has(e))throw L(e),O("Argument is not a direct superclass");return N(e,this)}};return e}(t),n=C(t),r=function(t){const{class:e}=class{static class(e){L(e);const{prototype:o}=e;if(!t.has(o)){const t=X(o)?"Property 'prototype' of argument does not match any direct superclass":"Property 'prototype' of argument is not an object";throw O(t)}return N(o,this)}};return e}(e),u=function(t){const e=function(...e){const o=function(t,e){const o=new s;let n,r;const c=t=>{if(n===!t)throw O("Mixed argument styles");n=t};for(const n of e){if(V(n))throw O("Invalid arguments");let e,s;if(void 0!==n&&X(e=n.super)){if(c(!0),I(o,e),!t.has(e)){const t=`${Z(e)} is not a direct superclass`;throw O(t)}if(s=n.arguments,V(s)){const t=`Invalid arguments for superclass ${Z(e)}`;throw O(t)}}else c(!1),r||(r=t.values()),e=r.next().value,s=n;const i=void 0!==s?E(s):void 0;o.set(e,i)}return o}(t,e),n=new.target;for(const e of t){const t=o.get(e),s=q(e,t,n),r=f(s);for(const t of r)x(this,t)&&delete s[t];i(this,s)}};return y(e,null),e}(t),a=F(u,t,D),l=c(null,{constructor:W(a,!0,!1,!0),class:W(r)}),p=F(l,e,A),d={class:W(o),name:{get:n,configurable:!0},prototype:W(p)};return i(u,d),a}(e,o);return function t(e){let o=!1;for(const s of e)s!==n&&X(s)&&(o=!0,t(B(s))||T(s));return o}(t),r},A={setPrototypeOf:()=>!1},D={__proto__:A,apply:()=>{throw O("Constructor cannot be invoked without 'new'")}},C=t=>()=>`(${[...t].map(({name:t})=>b(t))})`,E=n.apply.bind((...t)=>t,null),F=(t,e,o)=>{const n=((t,e)=>({__proto__:e,get(e,o,n){const s=t.find(et(o));if(void 0!==s)return w(s,o,n)},has:(e,o)=>t.some(et(o)),set(e,o,n,s){const r=t.find(et(o));return void 0!==r?P(r,o,n,s):(R(s,o,n,!0,!0,!0),!0)}}))([t,...e],o),s=new d(t,n);return ot.set(s,e),s},N=(t,e)=>{const o=t=>{const o=t();return y(s,e),o},n=new d(e,{get:(n,s)=>o(()=>w(t,s,e)),set:(n,s,r)=>o(()=>P(t,s,r,e))}),s=c(n);return s},R=(t,e,o,n,s,r)=>u(t,e,W(o,n,s,r)),T=t=>R(t,v,G,!0,!1,!0),W=(t,e,o,n)=>({value:t,writable:e,enumerable:o,configurable:n}),q=(t,e=o,n)=>a(g(t,e,n)),{getPrototypeListOf:z}={getPrototypeListOf:t=>B(t,!0)},B=(t,e)=>{let n=ot.get(t);if(n)e&&(n=[...n]);else{const s=l(t);n=null!==s?[s]:e?[]:o}return n},{[v]:G}=class{static[v](t){H=!0;try{if(J(this)){const o=j(this,t);if(!H)return o;if(o||X(t)&&e(this.prototype,t))return!0}return!1}finally{H=!1}}};let H=!1;const J=t=>"function"==typeof t,K=t=>{if(J(t)){const e=$(t);R(e,"prototype",null);try{return(()=>(class extends e{}))(),!0}catch(t){}}return!1},Q=t=>!tt.includes(typeof t),U=t=>void 0===t||Q(t),V=t=>null===t||Q(t),X=t=>null!==t&&!U(t),{isPrototypeOf:Y}=class{static isPrototypeOf(t){return!(!X(t)||!e(k(this),t))}},Z=t=>{let e;return J(t)&&(({name:e}=t),void 0!==e&&null!==e&&(e=b(e)))?e:e=b(t)},tt=["function","object","undefined"],et=t=>e=>t in e,ot=new WeakMap;R(t,"classes",M,!0,!1,!0),R(r,"getPrototypeListOf",z,!0,!1,!0),T(r),R(p,"isPrototypeOf",Y,!0,!1,!0)})("undefined"==typeof self?global:self);
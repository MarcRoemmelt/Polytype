// Proxymi â€“ https://github.com/fasttime/Proxymi
"use strict";(t=>{function n(t,n){if(t.has(n)){const t=`Duplicate superclass ${V(n)}`;throw k(t)}}function o(t){if(!G(t))throw k("Argument is not a function")}function e(t,n,o){const e=function(t,n){return{__proto__:n,get(n,o,e){const s=t.find(Y(o));if(void 0!==s)return b(s,o,e)},has:(n,o)=>t.some(Y(o)),set(n,o,e,s){const r=t.find(Y(o));return void 0!==r?_(r,o,e,s):(N(s,o,e,!0,!0,!0),!0)}}}([t,...n],o),s=new m(t,e);return Z.set(s,n),s}function s(t,n){function o(t){const o=t();return P(s,n),o}const e=new m(n,{get:(e,s)=>o(()=>b(t,s,n)),set:(e,s,r)=>o(()=>_(t,s,r,n))}),s=l(e);return s}function r(t,n){let o=Z.get(t);if(o)n&&(o=[...o]);else{const n=h(t);o=null===n?[]:[n]}return o}function c(t){if(G(t)){const n=L(t);N(n,"prototype",null);try{return(()=>(class extends n{}))(),!0}catch(t){}}return!1}function i(t,n){const o=r(n);for(const n of o)if(n===t||i(t,n))return!0;return!1}if(t.hasOwnProperty("classes"))return;const u=Function.prototype,f=Map,a=Object,l=a.create,p=a.defineProperties,y=a.defineProperty,d=a.getOwnPropertyDescriptors,h=a.getPrototypeOf,g=a.keys,w=a.prototype,P=a.setPrototypeOf,m=Proxy,v=Reflect,O=v.construct,b=v.get,_=v.set,$=Set,j=String,x=Symbol.hasInstance,k=TypeError,I=t=>u.call.bind(t),L=I(u.bind),M=I(u[x]),S=I(w.hasOwnProperty),A=I(w.valueOf),{classes:D}={classes:(...t)=>(function(t){if(!t.length)throw k("No superclasses specified");const i=new $,a=new $;for(const o of t){if(n(i,o),!c(o)){const t=`${V(o)} is not a constructor`;throw k(t)}const{prototype:t}=o;if(J(t)){const t=`Property 'prototype' of ${V(o)} is not an object or null`;throw k(t)}i.add(o),null!==t&&a.add(t)}const y=function(t,r){const c=function(t){const{class:n}=class{static class(n){if(!t.has(n))throw o(n),k("Argument is not a direct superclass");return s(n,this)}};return n}(t),i=F(t),u=function(t){const{class:n}=class{static class(n){o(n);const{prototype:e}=n;if(!t.has(e)){const t=Q(e)?"Property 'prototype' of argument does not match any direct superclass":"Property 'prototype' of argument is not an object";throw k(t)}return s(e,this)}};return n}(r),a=function(t){const o=function(...o){const e=function(t,o){const e=new f;let s,r;const c=t=>{if(s===!t)throw k("Mixed argument styles");s=t};for(const s of o){if(K(s))throw k("Invalid arguments");let o,i;if(void 0!==s&&Q(o=s.super)){if(c(!0),n(e,o),!t.has(o)){const t=`${V(o)} is not a direct superclass`;throw k(t)}if(i=s.arguments,K(i)){const t=`Invalid arguments for superclass ${V(o)}`;throw k(t)}}else c(!1),r||(r=t.values()),o=r.next().value,i=s;const u=void 0!==i?((...t)=>t).apply(null,i):void 0;e.set(o,u)}return e}(t,o),s=new.target;for(const n of t){let t=e.get(n);void 0===t&&(t=W);const o=O(n,t,s),r=d(o),c=g(r);for(const t of c)S(this,t)&&delete r[t];p(this,r)}};return P(o,null),o}(t),y=e(a,t,E),h=e(l(null,{class:T(u),constructor:T(y,!0,!1,!0)}),r,C),w={class:T(c),name:{get:i,configurable:!0},prototype:T(h)};return p(a,w),y}(i,a);return function t(n){let o=!1;for(const e of n)e!==u&&Q(e)&&(o=!0,t(r(e))||R(e));return o}(t),y})(t)},C={setPrototypeOf:()=>!1},E={__proto__:C,apply:()=>{throw k("Constructor cannot be invoked without 'new'")}},F=t=>()=>`(${[...t].map(({name:t})=>j(t))})`,N=(t,n,o,e,s,r)=>y(t,n,T(o,e,s,r)),R=t=>N(t,x,z,!0,!1,!0),T=(t,n,o,e)=>({value:t,writable:n,enumerable:o,configurable:e}),W=[],{getPrototypeListOf:q}={getPrototypeListOf:t=>r(t,!0)},{[x]:z}=class{static[x](t){B=!0;try{if(G(this)){const n=M(this,t);if(!B)return n;if(n||Q(t)&&i(this.prototype,t))return!0}return!1}finally{B=!1}}};let B=!1;const G=t=>"function"==typeof t,H=t=>!X.includes(typeof t),J=t=>void 0===t||H(t),K=t=>null===t||H(t),Q=t=>null!==t&&!J(t),{isPrototypeOf:U}=class{static isPrototypeOf(t){return!(!Q(t)||!i(A(this),t))}},V=t=>{let n;return G(t)&&(({name:n}=t),void 0!==n&&null!==n&&(n=j(n)))?n:n=j(t)},X=["function","object","undefined"],Y=t=>n=>t in n,Z=new WeakMap;N(t,"classes",D,!0,!1,!0),N(a,"getPrototypeListOf",q,!0,!1,!0),R(a),N(w,"isPrototypeOf",U,!0,!1,!0)})("undefined"==typeof self?global:self);
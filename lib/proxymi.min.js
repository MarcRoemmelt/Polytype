// Proxymi â€“ https://github.com/fasttime/Proxymi
"use strict";(t=>{function n(t,n){if(t.has(n)){const t=`Duplicate superclass ${Y(n)}`;throw I(t)}}function o(t){if(!J(t))throw I("Argument is not a function")}function e(t,n,o){const e=function(t,n){return{__proto__:n,get(n,o,e){const s=t.find(tt(o));if(void 0!==s)return _(s,o,e)},has:(n,o)=>t.some(tt(o)),set(n,o,e,s){const r=t.find(tt(o));return void 0!==r?$(r,o,e,s):(T(s,o,e,!0,!0,!0),!0)}}}([t,...n],o),s=new b(t,e);return nt.set(s,n),s}function s(t,n){function o(t){const o=t();return m(s,n),o}const e=new b(n,{get:(e,s)=>o(()=>_(t,s,n)),set:(e,s,r)=>o(()=>$(t,s,r,n))}),s=p(e);return s}function r(t,n){let o=nt.get(t);if(o)n&&(o=[...o]);else{const e=g(t);o=null!==e?[e]:n?[]:u}return o}function c(t){if(J(t)){const n=M(t);T(n,"prototype",null);try{return(()=>(class extends n{}))(),!0}catch(t){}}return!1}function i(t,n){const o=r(n);for(const n of o)if(n===t||i(t,n))return!0;return!1}if(t.hasOwnProperty("classes"))return;const u=[],f=Function.prototype,a=Map,l=Object,p=l.create,y=l.defineProperties,d=l.defineProperty,h=l.getOwnPropertyDescriptors,g=l.getPrototypeOf,w=l.keys,P=l.prototype,m=l.setPrototypeOf,b=Proxy,v=Reflect,O=v.construct,_=v.get,$=v.set,j=Set,x=String,k=Symbol.hasInstance,I=TypeError,L=t=>f.call.bind(t),M=L(f.bind),S=L(f[k]),A=L(P.hasOwnProperty),D=L(P.valueOf),{classes:C}={classes:(...t)=>(function(t){if(!t.length)throw I("No superclasses specified");const i=new j,u=new j;for(const o of t){if(n(i,o),!c(o)){const t=`${Y(o)} is not a constructor`;throw I(t)}const{prototype:t}=o;if(Q(t)){const t=`Property 'prototype' of ${Y(o)} is not an object or null`;throw I(t)}i.add(o),null!==t&&u.add(t)}const l=function(t,r){const c=function(t){const{class:n}=class{static class(n){if(!t.has(n))throw o(n),I("Argument is not a direct superclass");return s(n,this)}};return n}(t),i=N(t),u=function(t){const{class:n}=class{static class(n){o(n);const{prototype:e}=n;if(!t.has(e)){const t=V(e)?"Property 'prototype' of argument does not match any direct superclass":"Property 'prototype' of argument is not an object";throw I(t)}return s(e,this)}};return n}(r),f=function(t){const o=function(...o){const e=function(t,o){const e=new a;let s,r;const c=t=>{if(s===!t)throw I("Mixed argument styles");s=t};for(const s of o){if(U(s))throw I("Invalid arguments");let o,i;if(void 0!==s&&V(o=s.super)){if(c(!0),n(e,o),!t.has(o)){const t=`${Y(o)} is not a direct superclass`;throw I(t)}if(i=s.arguments,U(i)){const t=`Invalid arguments for superclass ${Y(o)}`;throw I(t)}}else c(!1),r||(r=t.values()),o=r.next().value,i=s;const u=void 0!==i?R(i):void 0;e.set(o,u)}return e}(t,o),s=new.target;for(const n of t){const t=e.get(n),o=z(n,t,s),r=w(o);for(const t of r)A(this,t)&&delete o[t];y(this,o)}};return m(o,null),o}(t),l=e(f,t,F),d=e(p(null,{class:q(u),constructor:q(l,!0,!1,!0)}),r,E),h={class:q(c),name:{get:i,configurable:!0},prototype:q(d)};return y(f,h),l}(i,u);return function t(n){let o=!1;for(const e of n)e!==f&&V(e)&&(o=!0,t(r(e))||W(e));return o}(t),l})(t)},E={setPrototypeOf:()=>!1},F={__proto__:E,apply:()=>{throw I("Constructor cannot be invoked without 'new'")}},N=t=>()=>`(${[...t].map(({name:t})=>x(t))})`,R=f.apply.bind((...t)=>t,null),T=(t,n,o,e,s,r)=>d(t,n,q(o,e,s,r)),W=t=>T(t,k,G,!0,!1,!0),q=(t,n,o,e)=>({value:t,writable:n,enumerable:o,configurable:e}),z=(t,n=u,o)=>h(O(t,n,o)),{getPrototypeListOf:B}={getPrototypeListOf:t=>r(t,!0)},{[k]:G}=class{static[k](t){H=!0;try{if(J(this)){const n=S(this,t);if(!H)return n;if(n||V(t)&&i(this.prototype,t))return!0}return!1}finally{H=!1}}};let H=!1;const J=t=>"function"==typeof t,K=t=>!Z.includes(typeof t),Q=t=>void 0===t||K(t),U=t=>null===t||K(t),V=t=>null!==t&&!Q(t),{isPrototypeOf:X}=class{static isPrototypeOf(t){return!(!V(t)||!i(D(this),t))}},Y=t=>{let n;return J(t)&&(({name:n}=t),void 0!==n&&null!==n&&(n=x(n)))?n:n=x(t)},Z=["function","object","undefined"],tt=t=>n=>t in n,nt=new WeakMap;T(t,"classes",C,!0,!1,!0),T(l,"getPrototypeListOf",B,!0,!1,!0),W(l),T(P,"isPrototypeOf",X,!0,!1,!0)})("undefined"==typeof self?global:self);
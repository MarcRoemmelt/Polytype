// Polytype 0.6.1 â€“ https://github.com/fasttime/Polytype
!function(){"use strict";function t(e,o){const n=G(o);for(const o of n)if(o===e||t(e,o))return!0;return!1}const e=[],o=Function.prototype,n=Map,r=Object,{create:s,defineProperties:c,defineProperty:i,getOwnPropertyDescriptor:a,getOwnPropertyDescriptors:u,getPrototypeOf:l,prototype:f,setPrototypeOf:p}=r,y=Proxy,d=Reflect,{construct:h,get:w,ownKeys:g,set:m}=d,P=Set,b=String,v=Symbol.hasInstance,O=TypeError,_=t=>o.call.bind(t),$=_(o.bind),x=_(o[v]),S=_(o.toString),j=_(f.hasOwnProperty),I=_(f.valueOf),k=(t,e)=>{if(t.has(e)){const t=`Duplicate superclass ${rt(e)}`;throw O(t)}},D=t=>{if(!U(t))throw O("Argument is not a function")},L=(...t)=>{if(!t.length)throw O("No superclasses specified");const e=new P,o=new P;for(const n of t){if(k(e,n),!V(n)){const t=`${rt(n)} is not a constructor`;throw O(t)}const{prototype:t}=n;if(tt(t)){const t=`Property 'prototype' of ${rt(n)} is not an object or null`;throw O(t)}e.add(n),null!==t&&o.add(t)}const n=function(t,e){const o=T(t),n=E(t),r=R(e),i=C(t),a=K(i,t,A),u=s(null,{constructor:q(a,!0,!1,!0),class:q(r)}),l=K(u,e,M),f={class:q(o),name:{get:n},prototype:q(l)};return c(i,f),a}(e,o);return function(...t){const e=new P,o=new P;for(const n of t)for(let t of n)for(;!e.has(t);){e.add(t);{const{constructor:e}=t;V(e)&&Q(e,o)}{const e=l(t);if(null===e){const e=a(t,"isPrototypeOf");e&&Y(e.value,"isPrototypeOf")&&(e.value=nt,i(t,"isPrototypeOf",e))}t=e}if(!ot(t))break}}(e,o),n},M={setPrototypeOf:()=>!1},A={__proto__:M,apply:()=>{throw O("Constructor cannot be invoked without 'new'")}},C=t=>{const e=function(...e){const o=function(t,e){const o=new n;let r,s;const c=t=>{if(r===!t)throw O("Mixed argument styles");r=t};for(const n of e){if(et(n))throw O("Invalid arguments");let e,r;if(void 0!==n&&ot(e=n.super)){if(c(!0),k(o,e),!t.has(e)){const t=`${rt(e)} is not a direct superclass`;throw O(t)}if(r=n.arguments,et(r)){const t=`Invalid arguments for superclass ${rt(e)}`;throw O(t)}}else c(!1),s||(s=t.values()),e=s.next().value,r=n;const i=void 0!==r?F(r):void 0;o.set(e,i)}return o}(t,e),r=new.target;for(const e of t){const t=o.get(e),n=z(e,t,r),s=g(n);for(const t of s)j(this,t)&&delete n[t];c(this,n)}};return p(e,null),e},E=t=>()=>`(${[...t].map(({name:t})=>b(t))})`,F=o.apply.bind((...t)=>t,null),K=(t,e,o)=>{const n=((t,e)=>({__proto__:e,get(e,o,n){const r=t.find(ct(o));if(void 0!==r)return w(r,o,n)},has:(e,o)=>t.some(ct(o)),set(e,o,n,r){const s=t.find(ct(o));return void 0!==s?m(s,o,n,r):(W(r,o,n,!0,!0),!0)}}))([t,...e],o),r=new y(t,n);return it.set(r,e),r},N=(t,e)=>{const o=t=>{const o=t();return p(r,e),o},n=new y(e,{get:(n,r)=>o(()=>w(t,r,e)),set:(n,r,s)=>o(()=>m(t,r,s,e))}),r=s(n);return r},R=t=>W(class{static _(e){D(e);const{prototype:o}=e;if(!t.has(o)){const t=ot(o)?"Property 'prototype' of argument does not match any direct superclass":"Property 'prototype' of argument is not an object";throw O(t)}return N(o,this)}}._,"name","class",!1),T=t=>W(class{static _(e){if(!t.has(e))throw D(e),O("Argument is not a direct superclass");return N(e,this)}}._,"name","class",!1),W=(t,e,o,n=!0,r=!1)=>i(t,e,q(o,n,r,!0)),q=(t,e,o,n)=>({value:t,writable:e,enumerable:o,configurable:n}),z=(t,o=e,n)=>u(h(t,o,n)),{getPrototypeListOf:B}={getPrototypeListOf:t=>{let e;{const o=l(t);if(null!==o){const t=it.get(o);e=t?[...t]:[o]}else e=[]}return e}},G=t=>{let o=it.get(t);if(!o){const n=l(t);o=null!==n?[n]:e}return o},{[v]:H}=class{static[v](e){J=!0;try{if(U(this)){const o=x(this,e);if(!J)return o;if(o||ot(e)&&t(this.prototype,e))return!0}return!1}finally{J=!1}}};let J=!1;const Q=(t,e)=>{if(X(t))return!1;if(e.has(t))return!0;e.add(t);const o=G(t);let n=!1;for(const t of o)ot(t)&&Q(t,e)&&(n=!0);return n||(t=>W(t,v,H))(t),!0},U=t=>"function"==typeof t,V=t=>{if(U(t)){const e=$(t);W(e,"prototype",null);const o=new y(e,{construct(){return this}});try{return new class extends o{},!0}catch(t){}}return!1},X=t=>{if(Y(t,"")){const e=a(t,v);if(e&&!e.writable&&!e.enumerable&&!e.configurable&&Y(e.value,"[Symbol.hasInstance]"))return!0}return!1},Y=(t,e)=>{let o;try{o=S(t)}catch(t){return!1}const n=/^function ?(.*)\(\) {\s+\[native code]\s+}/.exec(o);return n&&n[1]===e&&!V(t)},Z=t=>!st.includes(typeof t),tt=t=>void 0===t||Z(t),et=t=>null===t||Z(t),ot=t=>null!==t&&!tt(t),{isPrototypeOf:nt}=class{static isPrototypeOf(e){return!(!ot(e)||!t(I(this),e))}},rt=t=>{let e;return U(t)&&(({name:e}=t),null!=e&&(e=b(e)))?e:e=b(t)},st=["function","object","undefined"],ct=t=>e=>t in e,it=new WeakMap;W(L,"name","classes",!1),(()=>{const t="undefined"==typeof self?global:self;!t.hasOwnProperty("classes")&&(W(t,"classes",L),W(r,"getPrototypeListOf",B))})()}();